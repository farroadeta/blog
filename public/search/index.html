<!doctype html><html lang=zh-cn><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>搜索 - 七哇夸</title><meta name=description content="一个基于 Hugo 的个人博客"><link rel=stylesheet href="/css/style.css?v=43"><link rel=stylesheet href="/css/papermod.css?v=43"><link rel=icon href=/favicon.ico type=image/x-icon></head><body><header class=header><div class=header-container><div class=header-title><a href=/ class=header-logo-link><div class=header-logo><img src=/images/avatar.png alt=七哇夸></div><div class=header-name><span class=header-site-title>七哇夸</span>
<span class=header-subtitle>Farroadeta</span></div></a></div><div class=header-right><nav class=header-nav><ul><li><a href=/ title=首页 style=display:flex;align-items:center;justify-content:center;width:24px;height:24px><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></a></li><li><a href=/posts title=归档 style=display:flex;align-items:center;justify-content:center;width:24px;height:24px><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></a></li><li><a href=/tags title=标签 style=display:flex;align-items:center;justify-content:center;width:24px;height:24px><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg></a></li><li><a href=/search title=搜索 style=display:flex;align-items:center;justify-content:center;width:24px;height:24px><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></a></li></ul></nav><button class=theme-toggle aria-label="Toggle theme" style="display:flex;align-items:center;justify-content:center;width:24px;height:24px;padding:0;background:0 0;border:none;cursor:pointer">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
</button>
<button class=mobile-menu-toggle aria-label="Toggle mobile menu">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><main><div class=container><div class=search-container><h1 class=search-title>搜索</h1><div class=search-box><input type=text id=search-input placeholder=输入关键词搜索文章... autocomplete=off>
<button id=search-clear class=search-clear style=display:none>
<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div><div id=search-stats class=search-stats></div><div id=search-results class=search-results></div></div><script src=https://cdn.jsdelivr.net/npm/fuse.js@6.6.2></script><script>(function(){const e=document.getElementById("search-input"),o=document.getElementById("search-clear"),n=document.getElementById("search-results"),s=document.getElementById("search-stats");let i=null,r=[];fetch("/index.json").then(e=>e.json()).then(e=>{r=e.items||e,i=new Fuse(r,{keys:[{name:"title",weight:.4},{name:"content",weight:.3},{name:"summary",weight:.2},{name:"tags",weight:.1}],includeScore:!0,includeMatches:!0,threshold:.4,minMatchCharLength:1})}).catch(e=>{console.error("加载搜索数据失败:",e),n.innerHTML='<div class="search-error">加载搜索数据失败，请刷新页面重试</div>'});function c(e){if(!i||!e.trim()){n.innerHTML="",s.innerHTML="";return}const t=i.search(e);u(t,e)}function u(e,o){if(e.length===0){s.innerHTML=`<span>未找到包含 "<strong>${t(o)}</strong>" 的文章</span>`,n.innerHTML='<div class="search-no-results">没有找到相关文章，试试其他关键词？</div>';return}s.innerHTML=`<span>找到 <strong>${e.length}</strong> 篇包含 "<strong>${t(o)}</strong>" 的文章</span>`;const i=e.map(e=>{const t=e.item,s=l(t.title,e.matches,"title"),o=l(t.summary||t.content?.substring(0,200)||"",e.matches,"content"),n=t.date?new Date(t.date).toLocaleDateString("zh-CN"):"";return`
                <article class="search-result-item">
                    <h2 class="search-result-title">
                        <a href="${t.permalink||t.url}">${s}</a>
                    </h2>
                    <div class="search-result-meta">
                        ${n?`<span class="search-result-date">${n}</span>`:""}
                        ${t.tags?`<span class="search-result-tags">${t.tags.map(e=>`<span class="tag">${e}</span>`).join("")}</span>`:""}
                    </div>
                    <p class="search-result-summary">${o}...</p>
                </article>
            `}).join("");n.innerHTML=i}function l(e,n,s){if(!n||!e)return t(e);const a=n.find(e=>e.key===s);if(!a)return t(e);let o="",i=0;return a.indices.forEach(([n,s])=>{o+=t(e.substring(i,n)),o+=`<mark>${t(e.substring(n,s+1))}</mark>`,i=s+1}),o+=t(e.substring(i)),o}function t(e){if(!e)return"";const t=document.createElement("div");return t.textContent=e,t.innerHTML}let d;e.addEventListener("input",function(){clearTimeout(d);const e=this.value;o.style.display=e?"flex":"none",d=setTimeout(()=>{c(e)},300)}),o.addEventListener("click",function(){e.value="",o.style.display="none",n.innerHTML="",s.innerHTML="",e.focus()}),document.addEventListener("keydown",function(t){(t.ctrlKey||t.metaKey)&&t.key==="k"&&(t.preventDefault(),e.focus()),t.key==="Escape"&&document.activeElement===e&&(e.value="",o.style.display="none",n.innerHTML="",s.innerHTML="")});const h=new URLSearchParams(window.location.search),a=h.get("q");a&&(e.value=a,o.style.display="flex",setTimeout(()=>c(a),500))})()</script></div></main><footer class=footer><div class=footer-container><p class=footer-copyright>七哇夸</p><p class=footer-powered>月瘦梦肥，此为心乡</p></div></footer><script src=/js/script.js></script></body></html>