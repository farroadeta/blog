{{- /* 音乐分享短代码 */ -}}
{{- $id := .Get "id" -}}
{{- $platform := .Get "platform" | default "netease" -}}
{{- $auto := .Get "auto" | default "0" -}}

{{- if eq $platform "netease" -}}
  {{- /* 网易云音乐 */ -}}
  <div class="music-player">
    <iframe 
      frameborder="no" 
      border="0" 
      marginwidth="0" 
      marginheight="0" 
      width="100%" 
      height="86" 
      src="https://music.163.com/outchain/player?type=2&id={{ $id }}&auto={{ $auto }}&height=66">
    </iframe>
  </div>
{{- else if eq $platform "qq" -}}
  {{- /* QQ音乐 */ -}}
  <div class="music-player">
    <iframe 
      frameborder="no" 
      border="0" 
      marginwidth="0" 
      marginheight="0" 
      width="100%" 
      height="86" 
      src="https://y.qq.com/portal/player.html?id={{ $id }}">
    </iframe>
  </div>
{{- else if eq $platform "spotify" -}}
  {{- /* Spotify */ -}}
  <div class="music-player">
    <iframe 
      src="https://open.spotify.com/embed/track/{{ $id }}" 
      width="100%" 
      height="86" 
      frameborder="0" 
      allowtransparency="true" 
      allow="encrypted-media">
    </iframe>
  </div>
{{- end -}}